# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

type UserProfile {
  user_id: ID!
  user_name: String
  display_name: String
  given_name: String
  family_name: String
  phone: String
  avatar: String
  date_of_birth: DateTime
  cover: String
  country_code: String
  user: User!
  created_at: DateTime!
  updated_at: DateTime!
}

"""
A date-time string at UTC, such as 2019-12-03T09:54:33Z, compliant with the date-time format.
"""
scalar DateTime

type ReferralLog {
  user_id: ID!
  user: User!
  invited_by: String!
  type: ReferralType
  isClaim: Boolean!
  created_at: DateTime!
  updated_at: DateTime!
}

enum ReferralType {
  REGISTER
  BUY_GALAXY_CARD
}

type TransactionTypeCount {
  transaction_log: Int!
}

type TransactionType {
  code: String!
  description: String!
  transaction_log: [TransactionLog!]
  _count: TransactionTypeCount!
}

type TransactionLog {
  id: ID!
  type: String!
  transaction_type: TransactionType!
  user_id: String!
  wallet: Wallet!
  amount: Decimal!
  description: String
  created_at: DateTime!
  updated_at: DateTime!
}

"""An arbitrary-precision Decimal type"""
scalar Decimal

type WalletCount {
  transaction_log: Int!
}

type Wallet {
  user_id: ID!
  user: User!
  balance: Decimal!
  transaction_log: [TransactionLog!]
  created_at: DateTime!
  updated_at: DateTime!
  _count: WalletCount!
}

type UserCount {
  notification: Int!
}

type User {
  id: ID!
  role: UserRole!
  status: UserStatus!
  email: String
  ref_code: String!
  invited_by: String
  google_id: String
  facebook_id: String
  password: String
  profile: UserProfile
  notification: [Notification!]
  created_at: DateTime!
  updated_at: DateTime!
  referral_log: ReferralLog
  wallet: Wallet
  _count: UserCount!
}

enum UserRole {
  ADMIN
  USER
}

enum UserStatus {
  PENDING
  ACTIVE
  BANNED
}

type Notification {
  id: ID!
  user_id: String!
  title: String
  content: String
  is_seen: Boolean!
  link: String
  user: User!
  created_at: DateTime!
  updated_at: DateTime!
}

type NotificationGql {
  id: ID!
  user_id: String!
  title: String
  content: String
  is_seen: Boolean!
  link: String
  created_at: DateTime!
}

type UnseenNotifications {
  user_id: String
  count: Int
}

type ProfileGql {
  user_id: ID!
  user_name: String
  display_name: String
  given_name: String
  family_name: String
  avatar: String
  date_of_birth: DateTime
  cover: String
}

type UserGql {
  id: ID!
  email: String
  ref_code: String!
  notification: [Notification!]
  referral_log: ReferralLog
  wallet: Wallet
  _count: UserCount!
  profile: ProfileGql!
}

type AuthGql {
  token: String!
  user: UserGql!
}

type AccountInfo {
  user_id: ID!
  user_name: String
  display_name: String
  given_name: String
  family_name: String
  date_of_birth: DateTime
  email: String
}

type ReferralDataResponse {
  id: ID!
  role: UserRole!
  status: UserStatus!
  email: String
  ref_code: String!
  invited_by: String
  google_id: String
  facebook_id: String
  password: String
  profile: UserProfile
  notification: [Notification!]
  created_at: DateTime!
  updated_at: DateTime!
  referral_log: ReferralLog
  wallet: Wallet
  _count: UserCount!
  reward: String
}

type Project {
  id: ID!
  title: String!
  price: Int!
  address: String!
  location: String!
  rate: Decimal
  total_rate: Int
  favorites: Int
  hightlight: String!
  reason_invest: String!
  policy_link: String!
  enable: Boolean!
  open_sale_at: DateTime!
  take_profit_at: DateTime!
  wait_transfer_at: DateTime
  ended: Boolean
  profit_period: Int!
  created_at: DateTime!
  updated_at: DateTime!
  profile: ProjectProfile
}

type ProjectProfile {
  project_id: String!
  medias: JSON!
  offers: JSON!
  events: JSON!
  project: Project!
  created_at: DateTime!
  updated_at: DateTime!
}

"""
The `JSON` scalar type represents JSON values as specified by [ECMA-404](http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-404.pdf).
"""
scalar JSON

type ProjectMediaGql {
  """Width of image"""
  width: Int!

  """Height of image"""
  height: Int!

  """Media url"""
  url: String!

  """Thumbnail url"""
  thumbnail: String
}

type ProjectEventGql {
  """Event start time"""
  start_at: String!

  """Event title"""
  title: String!

  """Event description"""
  description: String!
}

type ProjectProfileGql {
  project_id: String!

  """"""
  events: [ProjectEventGql!]

  """"""
  offers: [ProjectEventGql!]

  """"""
  medias: [ProjectMediaGql!]
}

type ProjectGql {
  id: ID!
  title: String!
  price: Int!
  address: String!
  location: String!
  rate: Decimal
  total_rate: Int
  favorites: Int
  hightlight: String!
  reason_invest: String!
  policy_link: String!
  open_sale_at: DateTime!
  take_profit_at: DateTime!
  wait_transfer_at: DateTime
  ended: Boolean
  profit_period: Int!

  """"""
  profile: ProjectProfileGql!
}

type Query {
  """Auth resolver"""
  temp: String!

  """Get list referral user"""
  getListReferralUser: [ReferralDataResponse!]!

  """get balance"""
  getBalance: Wallet!

  """get account info"""
  getAccountInfo: AccountInfo

  """get OTP"""
  getOneTimePassword(address: String!): String!

  """get all notis"""
  getNotifications(page: Int, limit: Int): [NotificationGql!]

  """get unseen notis count"""
  countUnseenNotifications: Int

  """Get list referral user"""
  getProject(id: String!): ProjectGql!
}

type Mutation {
  """Login"""
  login(email: String!, password: String!): AuthGql!

  """Register"""
  register(email: String!, password: String!, ref_code: String): String!

  """Google login"""
  loginGoogle(token: String!, refCode: String): AuthGql!

  """Facebook login"""
  loginFacebook(accessToken: String!, refCode: String): AuthGql!

  """Verify email"""
  verifyEmail(token: String!): String!

  """Forgot password"""
  forgotPassword(email: String!): Boolean!

  """Forgot password"""
  resetPassword(token: String!, password: String!): Boolean!

  """update account info"""
  updateAccountInfo(input: AccountInfoUpdateInput!): Boolean

  """change password"""
  changePassword(oldPass: String!, newPass: String!): Boolean

  """claim referral"""
  claimReferral(inviteeId: String!): Wallet
  seenNotification(id: Int!): Boolean

  """mark all notis as read"""
  markAllNotisSeen: Boolean

  """Send tx transaction"""
  sendTransaction(txHash: String!, abi: String): Boolean!

  """set pool wallet"""
  setPoolWallet(address: String!, privateKey: String!): Boolean!

  """withdraw balance"""
  withdrawBalance(address: String!, amount: String!, signatureOTP: String!): Boolean!
}

input AccountInfoUpdateInput {
  user_name: String
  display_name: String
  given_name: String
  family_name: String
  date_of_birth: DateTime
}

type Subscription {
  pushNotification(userId: String!): NotificationGql!
  unseenNotifications(userId: String!): UnseenNotifications!
}